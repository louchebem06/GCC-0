[gd_scene load_steps=8 format=3 uid="uid://bdbm4lmy56tu0"]

[ext_resource type="Script" path="res://scripts/HUD.gd" id="1_byobm"]
[ext_resource type="PackedScene" uid="uid://dy66au3qnoyoo" path="res://World/map.tscn" id="2_8y3be"]
[ext_resource type="Script" path="res://HUD/MainMenu.gd" id="2_bgkf4"]
[ext_resource type="Texture2D" uid="uid://b78sce7ef38mt" path="res://assets/menu/logo-white.png" id="3_aulo8"]
[ext_resource type="PackedScene" uid="uid://dusf4tniph0y1" path="res://scenes/torch.tscn" id="6_5858h"]
[ext_resource type="AudioStream" uid="uid://g10ismm860lv" path="res://assets/menu/sound/jo-menu-sound.mp3" id="6_edj36"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_s07cx"]
properties/0/path = NodePath("ip:text")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("MultiplayerSpawner:spawn_limit")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("MultiplayerSpawner:_spawnable_scene_count")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath("MultiplayerSpawner:scenes/0")
properties/3/spawn = true
properties/3/replication_mode = 1

[node name="Testos" type="Node2D" node_paths=PackedStringArray("world")]
script = ExtResource("1_byobm")
world = NodePath("Map")
metadata/_edit_horizontal_guides_ = [231.0]
metadata/_edit_vertical_guides_ = [320.0]

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://scenes/player.tscn")
spawn_path = NodePath("..")

[node name="MainMenu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_bgkf4")

[node name="Logo-white" type="Sprite2D" parent="MainMenu"]
position = Vector2(320, 120)
scale = Vector2(0.346154, 0.346154)
texture = ExtResource("3_aulo8")

[node name="InputIP" type="LineEdit" parent="MainMenu"]
layout_mode = 2
anchor_right = 0.032
anchor_bottom = 0.03
offset_left = 119.0
offset_top = 218.0
offset_right = 419.0
offset_bottom = 249.0
placeholder_text = "192.168.0.1"

[node name="JoinButton" type="Button" parent="MainMenu"]
layout_mode = 2
offset_left = 446.0
offset_top = 218.0
offset_right = 558.0
offset_bottom = 249.0
text = "Join"

[node name="CreateServerButton" type="Button" parent="MainMenu"]
layout_mode = 2
offset_left = 447.0
offset_top = 317.0
offset_right = 623.0
offset_bottom = 348.0
text = "Host a game (server)"

[node name="stop-sound" type="Button" parent="MainMenu"]
layout_mode = 0
offset_left = 601.0
offset_top = 12.0
offset_right = 631.0
offset_bottom = 43.0
text = "ðŸ”Š"

[node name="quit-button" type="Button" parent="MainMenu"]
layout_mode = 0
offset_left = 21.0
offset_top = 317.0
offset_right = 103.0
offset_bottom = 348.0
text = "Quit"

[node name="DeathMenu" type="Control" parent="."]
visible = false
top_level = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="DeathMenu"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Tu es mort !"

[node name="Map" parent="." instance=ExtResource("2_8y3be")]

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_s07cx")

[node name="jo-ambiance-sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_edj36")
autoplay = true

[node name="Torch" parent="." instance=ExtResource("6_5858h")]
position = Vector2(155, 695)

[node name="ip" type="Label" parent="."]
offset_left = 88.0
offset_top = 384.0
offset_right = 211.0
offset_bottom = 407.0
text = "IP"

[connection signal="pressed" from="MainMenu/stop-sound" to="MainMenu" method="_on_stop_sound_pressed"]
[connection signal="pressed" from="MainMenu/quit-button" to="." method="_on_quitbutton_pressed"]
